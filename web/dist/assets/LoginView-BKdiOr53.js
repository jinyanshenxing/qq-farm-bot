import{o as x,c as b,a,b as s,w as n,d as h,u as k,r as l,e as _,f as g,g as z,h as C,l as L,i as S,E as u}from"./index-Dyl5uCa_.js";import{u as B}from"./auth-B1At1j8b.js";import{_ as E}from"./_plugin-vue_export-helper-fxonzzrb.js";const N={class:"login-page"},A={class:"login-card"},I={class:"login-header"},K={__name:"LoginView",setup(M){const d=k(),p=B(),t=_(!1),o=_({username:"",password:""});p.isLoggedIn&&d.replace("/dashboard");async function r(){if(!o.value.username||!o.value.password)return u.warning("请输入用户名和密码");t.value=!0;try{await p.login(o.value.username,o.value.password),u.success("登录成功"),d.replace("/dashboard")}catch(m){u.error(m.message||"登录失败")}finally{t.value=!1}}return(m,e)=>{const v=l("Sunny"),w=l("el-icon"),c=l("el-input"),f=l("el-form-item"),y=l("el-button"),V=l("el-form");return x(),b("div",N,[a("div",A,[a("div",I,[s(w,{size:48,color:"#67C23A"},{default:n(()=>[s(v)]),_:1}),e[2]||(e[2]=a("h1",null,"QQ 农场助手",-1)),e[3]||(e[3]=a("p",{class:"login-subtitle"},"多账号自动化管理平台",-1))]),s(V,{model:o.value,onSubmit:h(r,["prevent"]),class:"login-form"},{default:n(()=>[s(f,null,{default:n(()=>[s(c,{modelValue:o.value.username,"onUpdate:modelValue":e[0]||(e[0]=i=>o.value.username=i),placeholder:"用户名",size:"large","prefix-icon":g(z)},null,8,["modelValue","prefix-icon"])]),_:1}),s(f,null,{default:n(()=>[s(c,{modelValue:o.value.password,"onUpdate:modelValue":e[1]||(e[1]=i=>o.value.password=i),type:"password",placeholder:"密码",size:"large","show-password":"","prefix-icon":g(L),onKeyup:C(r,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),s(y,{type:"primary",size:"large",loading:t.value,onClick:r,style:{width:"100%"}},{default:n(()=>[...e[4]||(e[4]=[S(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"]),e[5]||(e[5]=a("div",{class:"login-footer"},[a("span",null,"默认账号: admin / admin123")],-1))])])}}},T=E(K,[["__scopeId","data-v-07b2730a"]]);export{T as default};
